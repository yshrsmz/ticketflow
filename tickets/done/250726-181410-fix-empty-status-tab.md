---
priority: 2
description: Fix TUI inconsistency when displaying empty status tabs
created_at: "2025-07-26T18:14:10+09:00"
started_at: "2025-07-26T20:47:00+09:00"
closed_at: "2025-07-26T20:55:30+09:00"
---

# 概要

TUIでステータスタブを切り替える際、そのステータスのチケットが存在しない場合、UIが他の非空のステータスタブと全く異なる表示になるバグ。空のステータスタブでも、他のタブと一貫性のあるUIを表示し、空のメッセージと新規チケット作成のヒントを表示すべき。

## タスク
- [x] 空のステータスタブの現在のUI実装を調査
- [x] 非空のステータスタブのUIレイアウトを確認
- [x] 空のステータスタブ用の一貫性のあるUIを実装
- [x] 空のメッセージと新規チケット作成のヒントを追加
- [x] 空のメッセージを左上に配置（チケットリストと同じ位置）
- [x] 全てのステータスタブで動作確認

## 技術仕様

- 空のステータスタブでも、ヘッダー、リスト領域、フッターのレイアウトを維持
- リスト領域に「このステータスのチケットはありません」などのメッセージを中央表示
- 「'n'キーで新規チケットを作成」などのヒントを表示
- 他のタブと同じスタイル（枠線、色、パディング）を適用

## メモ

- ユーザビリティの観点から、全てのタブで一貫したUIを提供することが重要
- 空の状態でも、ユーザーが次のアクションを理解できるようにガイドする

## 実装の洞察

- 問題の原因: View()メソッドで空のチケットリストの場合に早期リターンしていたため、タブバー、ヘッダー、その他のUI要素がスキップされていた
- 解決方法: 空の状態でも完全なUIレイアウトを維持し、チケットリストの位置に空のメッセージを表示するように変更
- 重要な考慮事項:
  - 空のメッセージはチケットが表示される位置（左上）に配置することで視覚的な一貫性を保つ
  - lipgloss.Width()を使用してスタイル付きテキストの幅を正確に計算する必要があったが、最終的にはシンプルな左寄せで解決
  - 残りのスペースを埋めることで、ヘルプラインが常に画面下部に表示されるようにした
- コードの場所: internal/ui/views/list.go:253-278
